!function s(h,a,r){function o(i,t){if(!a[i]){if(!h[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(m)return m(i,!0);throw new Error("Cannot find module '"+i+"'")}t=a[i]={exports:{}};h[i][0].call(t.exports,function(t){var e=h[i][1][t];return o(e||t)},t,t.exports,s,h,a,r)}return a[i].exports}for(var m="function"==typeof require&&require,t=0;t<r.length;t++)o(r[t]);return o}({1:[function(t,e,i){t=t("./Enemy");class s extends t{constructor(t){super(t),this.lives=2,this.score=this.lives,this.width=228,this.height=169,this.y=Math.random()*(.95*this.game.height-this.height),this.image=document.getElementById("angler1"),this.frameY=Math.floor(3*Math.random())}}e.exports=s},{"./Enemy":5}],2:[function(t,e,i){t=t("./Enemy");class s extends t{constructor(t){super(t),this.lives=3,this.score=this.lives,this.width=213,this.height=165,this.y=Math.random()*(.95*this.game.height-this.height),this.image=document.getElementById("angler2"),this.frameY=Math.floor(2*Math.random())}}e.exports=s},{"./Enemy":5}],3:[function(t,e,i){const s=t("./Layer.js");e.exports=class{constructor(t){this.game=t,this.image1=document.getElementById("layer1"),this.image2=document.getElementById("layer2"),this.image3=document.getElementById("layer3"),this.image4=document.getElementById("layer4"),this.layer1=new s(this.game,this.image1,.2),this.layer2=new s(this.game,this.image2,.4),this.layer3=new s(this.game,this.image3,1),this.layer4=new s(this.game,this.image4,2),this.layers=[this.layer1,this.layer2,this.layer3]}update(){this.layers.forEach(t=>t.update())}draw(e){this.layers.forEach(t=>t.draw(e))}}},{"./Layer.js":11}],4:[function(t,e,i){t=t("./Enemy");class s extends t{constructor(t,e,i){super(t),this.lives=3,this.score=3,this.width=115,this.height=95,this.type="drone",this.x=e,this.y=i,this.image=document.getElementById("drone"),this.frameY=Math.floor(2*Math.random()),this.speedX=-4.2*Math.random()-.5}}e.exports=s},{"./Enemy":5}],5:[function(t,e,i){e.exports=class{constructor(t){this.game=t,this.x=this.game.width,this.speed=-.5*Math.random()-.1,this.makedForDeletion=!1,this.lives=5,this.score=this.lives,this.frameX=0,this.frameY=0,this.maxFrame=37}update(){this.x+=this.speed-this.game.speed,this.x+this.width<0&&(this.makedForDeletion=!0),this.frameX<this.maxFrame?this.frameX++:this.frameX=0}draw(t){this.game.debug&&(t.strokeRect(this.x,this.y,this.width,this.height),t.fillStyle="yellow",t.font="25px Helvetica",t.fillText(this.lives,this.x,this.y)),t.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height)}}},{}],6:[function(t,e,i){e.exports=class{constructor(t,e,i){this.game=t,this.x=e,this.y=i,this.frameX=0,this.spriteHeight=200,this.fps=30,this.timer=0,this.interval=1e3/this.fps,this.markedForDeletion=!1,this.maxFrame=8,this.spriteWidth=200,this.spriteHeight=200,this.width=this.spriteWidth,this.height=this.spriteHeight,this.x=e-.5*this.width,this.y=i-.5*this.height}update(t){this.x-=this.game.speed,this.timer>this.interval?(this.frameX++,this.timer=0):this.timer+=t,this.frameX>this.maxFrame&&(this.markedForDeletion=!0)}draw(t){t.drawImage(this.image,this.frameX*this.spriteWidth,0,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)}}},{}],7:[function(t,e,i){t=t("./Explosion");class s extends t{constructor(t,e,i){super(t,e,i),this.image=document.getElementById("fire")}}e.exports=s},{"./Explosion":6}],8:[function(t,e,i){const s=t("./Background"),h=t("./Player"),a=t("./InputHandler"),r=t("./UI");t("./Enemy");const o=t("./Angler1"),m=t("./Angler2"),n=t("./Drone"),d=t("./HiveWhale"),l=t("./LuckyFish");t("./Explosion");const g=t("./SmokeExplosion"),p=t("./FireExplosion");t("./Projectile");const c=t("./Particle");e.exports=class{constructor(t,e){this.debug=!1,this.gameOver=!1,this.speed=1,this.width=t,this.height=e,this.bg=new s(this),this.player=new h(this),this.input=new a(this),this.ui=new r(this),this.keys=[],this.enemies=[],this.particles=[],this.explosions=[],this.enemyTimer=0,this.enemyInterval=2e3,this.ammo=20,this.maxAmmo=50,this.ammoTimer=0,this.ammoInterval=350,this.score=0,this.winningScore=250,this.gameTime=0,this.timeLimit=1e5}update(e){this.gameOver||(this.gameTime+=e),this.gameTime>this.timeLimit&&(this.gameOver=!0),this.bg.update(),this.bg.layer4.update(),this.player.update(e),this.ammoTimer>this.ammoInterval?(this.ammo<this.maxAmmo&&this.ammo++,this.ammoTimer=0):this.ammoTimer+=e,this.particles.forEach(t=>t.update(e)),this.particles=this.particles.filter(t=>!t.markedForDeletion),this.explosions.forEach(t=>t.update(e)),this.explosions=this.explosions.filter(t=>!t.markedForDeletion),this.enemyTimer>this.enemyInterval&&!this.gameOver?(this.addEnemy(),this.enemyTimer=0):this.enemyTimer+=e,this.enemies.forEach(e=>{if(e.update(),this.checkCollision(this.player,e)){e.makedForDeletion=!0,this.addExplosion(e);for(let t=0;t<10;t++)this.particles.push(new c(this,e.x+.5*e.width,e.y+.5*e.height));"lucky"===e.type?this.player.enterPowerUp():this.gameOver||this.score--}this.player.projectiles.forEach(t=>{if(this.checkCollision(t,e)){e.lives--,t.makedForDeletion=!0,this.addExplosion(e);for(let t=0;t<1;t++)this.particles.push(new c(this,e.x+.5*e.width,e.y+.5*e.height));if(e.lives<=0){if(e.makedForDeletion=!0,"hive"===e.type)for(let t=0;t<5;t++)this.enemies.push(new n(this,e.x+Math.random()*e.width,e.y+Math.random()*e.height*.5));for(let t=0;t<10;t++)this.particles.push(new c(this,e.x+.5*e.width,e.y+.5*e.height));this.gameOver||(this.score+=e.score),this.score>this.winningScore&&(this.gameOver=!0)}}})}),this.enemies=this.enemies.filter(t=>!t.makedForDeletion),this.ui.update(e)}draw(e){this.bg.draw(e),this.ui.draw(e),this.player.draw(e),this.particles.forEach(t=>t.draw(e)),this.enemies.forEach(t=>{t.draw(e)}),this.explosions.forEach(t=>t.draw(e)),this.bg.layer4.draw(e)}addEnemy(){var t=Math.random();t<.3?this.enemies.push(new o(this)):t<.6?this.enemies.push(new m(this)):t<.8?this.enemies.push(new d(this)):this.enemies.push(new l(this))}addExplosion(t){Math.random()<.5?this.explosions.push(new g(this,t.x+.5*t.width,t.y+.5*t.height)):this.explosions.push(new p(this,t.x+.5*t.width,t.y+.5*t.height))}checkCollision(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}}},{"./Angler1":1,"./Angler2":2,"./Background":3,"./Drone":4,"./Enemy":5,"./Explosion":6,"./FireExplosion":7,"./HiveWhale":9,"./InputHandler":10,"./LuckyFish":12,"./Particle":13,"./Player":14,"./Projectile":15,"./SmokeExplosion":16,"./UI":17}],9:[function(t,e,i){t=t("./Enemy");class s extends t{constructor(t){super(t),this.lives=15,this.score=15,this.width=400,this.height=227,this.type="hive",this.y=Math.random()*(.95*this.game.height-this.height),this.image=document.getElementById("hivewhale"),this.frameY=0,this.speedX=-1.2*Math.random()-.2}}e.exports=s},{"./Enemy":5}],10:[function(t,e,i){e.exports=class{constructor(t){this.game=t,window.addEventListener("keydown",t=>{"ArrowUp"!==t.key&&"ArrowDown"!==t.key||-1!==this.game.keys.indexOf(t.key)?" "===t.key?this.game.player.shootTop():"d"===t.key?this.game.debug=!this.game.debug:"g"===t.key&&this.game.player.enterPowerUp():this.game.keys.push(t.key)}),window.addEventListener("keyup",t=>{-1<this.game.keys.indexOf(t.key)&&this.game.keys.splice(this.game.keys.indexOf(t.key),1)})}}},{}],11:[function(t,e,i){e.exports=class{constructor(t,e,i){this.game=t,this.image=e,this.speedModifier=i,this.width=1768,this.height=500,this.x=0,this.y=0}update(){this.x<=-this.width?this.x=0:this.x-=this.game.speed*this.speedModifier}draw(t){t.drawImage(this.image,this.x,this.y),t.drawImage(this.image,this.x+this.width,this.y)}}},{}],12:[function(t,e,i){t=t("./Enemy");class s extends t{constructor(t){super(t),this.lives=2,this.score=15,this.width=99,this.height=95,this.type="lucky",this.y=Math.random()*(.95*this.game.height-this.height),this.image=document.getElementById("lucky"),this.frameY=Math.floor(2*Math.random())}}e.exports=s},{"./Enemy":5}],13:[function(t,e,i){e.exports=class{constructor(t,e,i){this.game=t,this.x=e,this.y=i,this.image=document.getElementById("gears"),this.frameX=Math.floor(3*Math.random()),this.frameY=Math.floor(3*Math.random()),this.spriteSize=50,this.sizeModifier=(.5*Math.random()+.5).toFixed(1),this.size=this.spriteSize*this.sizeModifier,this.speedX=6*Math.random()-3,this.speedY=-15*Math.random(),this.gravity=.5,this.markedForDeletion=!1,this.angle=0,this.va=.2*Math.random()-.1,this.bounced=Math.floor(+Math.random()+2),this.bottomBounceBoundary=80*Math.random()+60}update(){this.angle+=this.va,this.speedY+=this.gravity,this.x-=this.speedX+this.game.speed,this.y+=this.speedY,(this.y>this.game.height+this.size||this.x<0-this.size)&&(this.makedForDeletion=!0),this.y>this.game.height-this.bottomBounceBoundary&&this.bounced&&(this.bounced--,this.speedY*=-.5)}draw(t){t.save(),t.translate(this.x,this.y),t.rotate(this.angle),t.drawImage(this.image,this.frameX*this.spriteSize,this.frameY*this.spriteSize,this.spriteSize,this.spriteSize,-.5*this.size,-.5*this.size,this.size,this.size),t.restore()}}},{}],14:[function(t,e,i){const s=t("./Projectile");e.exports=class{constructor(t){this.game=t,this.width=120,this.height=190,this.x=20,this.y=100,this.frameX=0,this.frameY=0,this.maxFrame=37,this.speedY=0,this.maxSpeed=2,this.projectiles=[],this.image=document.getElementById("player"),this.powerUp=!1,this.powerUpTimer=0,this.poweUpLimit=1e4}update(t){this.game.keys.includes("ArrowUp")?this.speedY=-this.maxSpeed:this.game.keys.includes("ArrowDown")?this.speedY=this.maxSpeed:this.speedY=0,this.y+=this.speedY,this.y>this.game.height-.5*this.height?this.y=this.game.height-.5*this.height:this.y<.5*-this.height&&(this.y=.5*-this.height),this.projectiles.forEach(t=>{t.update()}),this.projectiles=this.projectiles.filter(t=>!t.makedForDeletion),this.frameX<this.maxFrame?this.frameX++:this.frameX=0,this.powerUp&&(this.powerUpTimer>this.poweUpLimit?(this.powerUp=!1,this.powerUpTimer=0,this.frameY=0):(this.powerUpTimer+=t,this.frameY=1,this.game.ammoTimer+=t))}draw(e){this.game.debug&&e.strokeRect(this.x,this.y,this.width,this.height),this.projectiles.forEach(t=>{t.draw(e)}),e.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height)}shootTop(){0<this.game.ammo&&(this.projectiles.push(new s(this.game,this.x+80,this.y+20)),this.game.ammo--),this.powerUp&&this.shootBot()}shootBot(){0<this.game.ammo&&this.projectiles.push(new s(this.game,this.x+80,this.y+175))}enterPowerUp(){this.powerUp=!0,this.powerUpTimer=0,this.game.ammo<this.game.maxAmmo&&(this.game.ammo=this.game.maxAmmo)}}},{"./Projectile":15}],15:[function(t,e,i){e.exports=class{constructor(t,e,i){this.game=t,this.x=e,this.y=i,this.width=10,this.height=3,this.speed=3,this.makedForDeletion=!1,this.image=document.getElementById("projectile")}update(){this.x+=this.speed,this.x>.8*this.game.width&&(this.makedForDeletion=!0)}draw(t){t.drawImage(this.image,this.x,this.y)}}},{}],16:[function(t,e,i){t=t("./Explosion");class s extends t{constructor(t,e,i){super(t,e,i),this.image=document.getElementById("smoke")}}e.exports=s},{"./Explosion":6}],17:[function(t,e,i){e.exports=class{constructor(t){this.game=t,this.fontSize=25,this.fontFamily="Bangers",this.color="white",this.fps}update(t){this.fps=(1e3/t).toFixed(0)}draw(i){i.save(),i.fillStyle=this.color,i.shadowOffsetX=2,i.shadowOffsetY=2,i.shadowColor="black",i.font=this.fontSize+"px "+this.fontFamily,i.fillText("Fps: "+this.fps,20,20),i.fillText("Score: "+this.game.score,20,40);var t=(1e-4*this.game.gameTime).toFixed(1);if(i.fillText("Timer: "+t,20,100),this.game.gameOver){i.textAlign="center";let t,e;e=this.game.score>=this.game.winningScore?(t="You Win!","Well done"):(t="Game Over","Try again"),i.font="50px "+this.fontFamily,i.fillText(t,.5*this.game.width,.5*this.game.height-40),i.font="25px "+this.fontFamily,i.fillText(e,.5*this.game.width,.5*this.game.height+40)}i.fillStyle=this.game.player.powerUp?"yellow":this.color;for(let t=0;t<this.game.ammo;t++)i.fillRect(20+5*t,50,3,20);i.restore()}}},{}],18:[function(t,e,i){const o=t("./Game");window.addEventListener("load",()=>{const s=document.querySelector("#canvas"),h=s.getContext("2d"),a=(s.width=1500,s.height=500,new o(s.width,s.height));let r=0;!function t(e){var i=e-r;r=e,h.clearRect(0,0,s.width,s.height),a.update(i),a.draw(h),requestAnimationFrame(t)}(0)})},{"./Game":8}]},{},[18]);